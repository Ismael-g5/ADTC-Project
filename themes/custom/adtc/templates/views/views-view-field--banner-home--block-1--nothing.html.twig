{{ attach_library('adtc/slick') }}

<style>
/* Sombreamento na imagem */
.banner-overlay {
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  background: rgba(0, 0, 0, 0.5); /* Ajuste a opacidade conforme necessário */
  z-index: 1;
}

/* Centralização do texto no banner */
.banner-caption {
  position: absolute;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
  color: white;
  z-index: 2;
  text-align: center;
  width: 100%;
}

/* Estilo adicional para o texto */
.banner-caption p {
  font-size: 24px; /* Ajuste o tamanho do texto conforme necessário */
  font-weight: bold;
  margin: 0;
}
.text-flip-container {
  position: relative;
  height: 50px; /* Altura do container */
  overflow: hidden;
}

.text-flip {
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%; /* Altura do container */
}

.text-flip-item {
  display: block;
  font-size: 24px; /* Tamanho do texto */
  text-align: center;
  line-height: 50px; /* Alinhamento vertical do texto */
  transform: rotateX(90deg);
  opacity: 0;
  transition: transform 0.6s ease-in-out, opacity 0.6s ease-in-out;
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
}

.text-flip-item.active {
  transform: rotateX(0deg);
  opacity: 1;
}
</style>
{# main -> Itens do menu #}
{% set menu_main = 'main' %}
{% set menu_tree_main = drupal_menu(menu_main) %}
{% set menu_items = menu_tree_main['#items'] %}

<div class="menu-overlay-container">
  <div class="row menu-main">
    <div class="menu-overlay-new">
      <div class="col-md-3 pr-0 d-flex flex-column align-items-center jutify-content-center">
        <div class="logo">
          <a href="{{ path('<front>') }}" title="Início">
            <img width="266" style="height: 15%;" src="{{ path('<front>') }}{{ directory }}/assets/images/logo_adtc.png" class="img-responsive" draggable="false" />
          </a>
        </div>
      </div>

      <div class="col-md-6  d-flex flex-column align-items-center jutify-content-center">
        <div class="menu-items" style="color: #1f39f2;">
          <ul class="institucional-menu">
            {% for item in menu_items %}
              <li class="item list-unstyled">
                <a href="{{ item.url }}" class="link-menu menu-title" target="_blank">
                  {{ item.title }}
                </a>
              </li>
            {% endfor %}
          </ul>
        </div>
      </div>

      <div class="col-md-3 col-sm-12 col-top col-top-3 pl-0 search-item">
        {{ drupal_form('Drupal\\search\\Form\\SearchBlockForm') }}
      </div>

    </div>
  </div>
</div>

<div class="row slide-banner-content">
  {% if row._entity.field_banner is not null %}
    <div class="slick-carousel" style="overflow-x:hidden; overflow-y:hidden; position: relative;">
      {% for banner_entity in row._entity.field_banner %}
        {% set estilo_banner = banner_entity.entity.uri.value|image_style('banner_home') %}
        {% set file_path = file_url(estilo_banner) %}
        <div class="banner-item" style="position: relative;">
          <img class="img-fluid banner-home" src="{{ file_path }}" alt="Banner">
            <div class="banner-overlay"></div>
            <!-- Sombreamento -->
            <div class="banner-caption">
              {% set content_banner_1 = row._entity.field_conteudo_1_banner.value %}
              {% set content_banner_2 = row._entity.field_conteudo_2_banner %}
              {% set content_banner_3 = row._entity.field_conteudo_3_banner.value %}

              <div class="subtitle-content-banner mb-3" style="font-weight: 600;">
                {{ content_banner_1 }}
              </div>
              <div class="title-content-banner mb-3">
                <h2>
                  {{ content_banner_3|striptags|raw }}

                  <div class="item-banner-animation text-flip-container">
                    <div class="text-flip">
                      {% for content in content_banner_2 %}
                        {% set content_text = content.value %}
                        <div class="text-flip-item itens">
                          {{ content_text|raw|striptags }}
                        </div>
                      {% endfor %}
                    </div>
                  </div>

                </div>
                <button type="button" class="btn btn-secondary">
                  Secondary
                </button>
              </div>
            </div>
          {% endfor %}
        </div>
      {% endif %}
    </div>
    