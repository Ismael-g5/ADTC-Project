{% set video = row._entity.field_link_youtube_message.value.0.uri %}
{% set image = row._entity.field_imagem_message.entity.fileuri %} 
{% set imageUrl = file_url(image) %}
{% set titleMessage = row._entity.field_title_message.value %}
{% set videoId = video.split('v=')[1] %}
{% set thumbnail = 'https://via.placeholder.com/560x315.png?text=Video+Thumbnail' %}
{{dump(imageUrl)}}

<div class="container mt-5">
  <div class="row block-message-week">
    <div class="col-md-6 d-flex flex-column justify-content-center">
      <h2 class="title-block-message mb-3">
        <b>Mensagem da Semana</b>
      </h2>
      <h4 class="message-theme mb-3">
        {{ titleMessage|upper }}
      </h4>
      <div class="buttons-see-more d-flex" style="gap: 10px;">
        <button type="button" class="btn btn-dark">
          MAIS DESTA SÉRIE >
        </button>
        <button type="button" class="btn btn-dark">
          ARQUIVO DE PREGAÇÕES >
        </button>
      </div>
    </div>
    <div class="col-md-6">
      <div id="video-container" style="position: relative; padding-bottom: 56.25%; height: 0; overflow: hidden; max-width: 100%; height: auto;">
        <img src="{{ imageUrl}}" alt="Video thumbnail" id="video-thumbnail" style="width: 100%; height: 100%; cursor: pointer; position: absolute; top: 0; left: 0;">
        <img src="https://upload.wikimedia.org/wikipedia/commons/7/73/YouTube_play_buttom_icon_%282013-2017%29.png" alt="Play icon" id="play-icon" style="width: 60px; height: 60px; position: absolute; top: 50%; left: 50%; transform: translate(-50%, -50%); cursor: pointer;">
      </div>
      <hr class="my-2">
      <span class="message-theme-line text-center d-block">
        {{ titleMessage|upper }}
      </span>
    </div>
  </div>
</div>

<script>
  document.getElementById('video-container').addEventListener('click', function() {
    var videoContainer = document.getElementById('video-container');
    videoContainer.innerHTML = '<iframe width="560" height="315" src="{{ video }}?autoplay=1" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture;" referrerpolicy="strict-origin-when-cross-origin" allowfullscreen style="position: absolute; top: 0; left: 0; width: 100%; height: 100%;"></iframe>';
  });
</script>
